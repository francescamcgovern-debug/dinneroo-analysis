<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dinneroo Zone Success Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap');
        
        :root {
            --bg-dark: #0a0f1a;
            --bg-card: #111827;
            --bg-card-hover: #1f2937;
            --accent-teal: #00d4aa;
            --accent-orange: #ff6b35;
            --accent-purple: #8b5cf6;
            --accent-blue: #3b82f6;
            --accent-pink: #ec4899;
            --text-primary: #f9fafb;
            --text-secondary: #9ca3af;
            --text-muted: #6b7280;
            --border: #374151;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            background-image: 
                radial-gradient(ellipse at 20% 20%, rgba(0, 212, 170, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(139, 92, 246, 0.08) 0%, transparent 50%);
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border);
        }
        
        h1 {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-teal), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 0.25rem;
        }
        
        .data-freshness {
            font-family: 'Space Mono', monospace;
            font-size: 0.75rem;
            color: var(--text-muted);
            background: var(--bg-card);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border);
        }
        
        .data-freshness .dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            margin-right: 0.5rem;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .section {
            background: var(--bg-card);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }
        
        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .section-number {
            background: linear-gradient(135deg, var(--accent-teal), var(--accent-purple));
            color: var(--bg-dark);
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: 700;
        }
        
        .section-subtitle {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }
        
        /* Grid layouts */
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        .grid-2-1 {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
        }
        
        /* Criteria cards */
        .criteria-card {
            background: var(--bg-dark);
            border-radius: 0.75rem;
            padding: 1.25rem;
            border: 1px solid var(--border);
        }
        
        .criteria-card.selection {
            border-left: 3px solid var(--accent-teal);
        }
        
        .criteria-card.outcome {
            border-left: 3px solid var(--accent-purple);
        }
        
        .criteria-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }
        
        .criteria-value {
            font-family: 'Space Mono', monospace;
            font-size: 1.75rem;
            font-weight: 700;
        }
        
        .criteria-description {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }
        
        /* Evidence panel */
        .evidence-panel {
            background: rgba(0, 212, 170, 0.1);
            border: 1px solid rgba(0, 212, 170, 0.3);
            border-radius: 0.75rem;
            padding: 1rem;
            margin-top: 1rem;
        }
        
        .evidence-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--accent-teal);
            margin-bottom: 0.75rem;
        }
        
        .evidence-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(0, 212, 170, 0.2);
            font-size: 0.85rem;
        }
        
        .evidence-item:last-child {
            border-bottom: none;
        }
        
        /* Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }
        
        .data-table th {
            text-align: left;
            padding: 0.75rem;
            background: var(--bg-dark);
            color: var(--text-secondary);
            font-weight: 500;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border);
        }
        
        .data-table td {
            padding: 0.75rem;
            border-bottom: 1px solid var(--border);
        }
        
        .data-table tr:hover {
            background: var(--bg-card-hover);
        }
        
        /* Status badges */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .badge-success {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }
        
        .badge-warning {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        
        .badge-danger {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }
        
        .badge-info {
            background: rgba(59, 130, 246, 0.2);
            color: var(--accent-blue);
        }
        
        /* Filters */
        .filter-bar {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .filter-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .filter-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        
        select, input[type="text"] {
            background: var(--bg-dark);
            border: 1px solid var(--border);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-family: inherit;
            font-size: 0.85rem;
        }
        
        select:focus, input[type="text"]:focus {
            outline: none;
            border-color: var(--accent-teal);
        }
        
        /* Toggle */
        .toggle-group {
            display: flex;
            background: var(--bg-dark);
            border-radius: 0.5rem;
            padding: 0.25rem;
            border: 1px solid var(--border);
        }
        
        .toggle-btn {
            padding: 0.5rem 1rem;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-family: inherit;
            font-size: 0.85rem;
            cursor: pointer;
            border-radius: 0.375rem;
            transition: all 0.2s;
        }
        
        .toggle-btn.active {
            background: var(--accent-teal);
            color: var(--bg-dark);
            font-weight: 600;
        }
        
        /* Chart container */
        .chart-container {
            position: relative;
            height: 400px;
        }
        
        /* Quadrant labels */
        .quadrant-legend {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .quadrant-item {
            text-align: center;
            padding: 0.75rem;
            border-radius: 0.5rem;
            background: var(--bg-dark);
        }
        
        .quadrant-name {
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }
        
        .quadrant-desc {
            font-size: 0.75rem;
            color: var(--text-muted);
        }
        
        /* Gap cards */
        .gap-card {
            background: var(--bg-dark);
            border-radius: 0.75rem;
            padding: 1rem;
            border: 1px solid var(--border);
        }
        
        .gap-cuisine {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .gap-orders {
            font-family: 'Space Mono', monospace;
            font-size: 1.25rem;
            color: var(--accent-teal);
        }
        
        .gap-status {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.25rem;
        }
        
        /* Tier cards */
        .tier-section {
            margin-bottom: 1.5rem;
        }
        
        .tier-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }
        
        .tier-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 700;
        }
        
        .tier-1 { background: var(--success); color: var(--bg-dark); }
        .tier-2 { background: var(--accent-blue); color: white; }
        .tier-3 { background: var(--warning); color: var(--bg-dark); }
        .tier-4 { background: var(--text-muted); color: white; }
        
        .dish-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .dish-tag {
            background: var(--bg-dark);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.85rem;
            border: 1px solid var(--border);
        }
        
        /* Stats row */
        .stats-row {
            display: flex;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-family: 'Space Mono', monospace;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-teal), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        /* Scrollable table */
        .table-scroll {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .table-scroll::-webkit-scrollbar {
            width: 8px;
        }
        
        .table-scroll::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }
        
        .table-scroll::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .grid-3 { grid-template-columns: repeat(2, 1fr); }
            .grid-2-1 { grid-template-columns: 1fr; }
        }
        
        @media (max-width: 768px) {
            .grid-3, .grid-2 { grid-template-columns: 1fr; }
            .filter-bar { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div>
                <h1>Zone Success Dashboard</h1>
                <p class="subtitle">Selection criteria, gaps, dishes, and family eating behavior</p>
            </div>
            <div class="data-freshness">
                <span class="dot"></span>
                Data as of Jan 7, 2026
            </div>
        </header>
        
        <!-- Section 1: MVP Selection Criteria -->
        <div class="section">
            <div class="section-header">
                <div>
                    <div class="section-title">
                        <span class="section-number">1</span>
                        MVP Selection Criteria
                    </div>
                    <p class="section-subtitle">What makes a zone ready - supply-side requirements only</p>
                </div>
            </div>
            
            <div class="grid-3">
                <div class="criteria-card selection">
                    <div class="criteria-label">Partners Required</div>
                    <div class="criteria-value" style="color: var(--accent-teal);">â‰¥5</div>
                    <div class="criteria-description">Minimum partners for cuisine redundancy and availability</div>
                </div>
                <div class="criteria-card selection">
                    <div class="criteria-label">Core Cuisines Required</div>
                    <div class="criteria-value" style="color: var(--accent-teal);">5 of 5</div>
                    <div class="criteria-description">Italian, Indian, Japanese/Asian, Chicken, Thai/Vietnamese</div>
                </div>
                <div class="criteria-card selection">
                    <div class="criteria-label">Tier-1 Dishes Required</div>
                    <div class="criteria-value" style="color: var(--accent-teal);">3 of 5</div>
                    <div class="criteria-description">Grilled Chicken, Pizza, Mild Curry, Pasta, Rice Bowl</div>
                </div>
            </div>
            
            <div class="evidence-panel">
                <div class="evidence-title">ðŸ“Š Evidence: Why These Criteria Work</div>
                <div class="evidence-item">
                    <span>Cuisine count correlation with repeat rate</span>
                    <span style="color: var(--success); font-weight: 600;">r = 0.514 (STRONG)</span>
                </div>
                <div class="evidence-item">
                    <span>Zones meeting all criteria have higher repeat rate</span>
                    <span style="color: var(--success); font-weight: 600;">+2x vs non-MVP</span>
                </div>
                <div class="evidence-item">
                    <span>Rating correlation with repeat rate</span>
                    <span style="color: var(--warning); font-weight: 600;">r = 0.22 (MODERATE)</span>
                </div>
            </div>
            
            <div style="margin-top: 1.5rem;">
                <h4 style="margin-bottom: 1rem; color: var(--text-secondary);">Outcome Metrics (Not Selection Criteria)</h4>
                <div class="grid-2">
                    <div class="criteria-card outcome">
                        <div class="criteria-label">Repeat Rate Benchmark</div>
                        <div class="criteria-value" style="color: var(--accent-purple);">â‰¥35%</div>
                        <div class="criteria-description">Target outcome for successful zones</div>
                    </div>
                    <div class="criteria-card outcome">
                        <div class="criteria-label">Rating Benchmark</div>
                        <div class="criteria-value" style="color: var(--accent-purple);">â‰¥4.0</div>
                        <div class="criteria-description">Minimum satisfaction (benchmark: 4.2)</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section 2: Zone Gap Analysis -->
        <div class="section">
            <div class="section-header">
                <div>
                    <div class="section-title">
                        <span class="section-number">2</span>
                        Zone Gap Analysis
                    </div>
                    <p class="section-subtitle">What each zone needs to reach MVP</p>
                </div>
                <div class="filter-bar">
                    <div class="filter-group">
                        <label class="filter-label">Region:</label>
                        <select id="regionFilter" onchange="filterZones()">
                            <option value="all">All Regions</option>
                            <option value="London">London</option>
                            <option value="South East">South East</option>
                            <option value="South West">South West</option>
                            <option value="North">North</option>
                            <option value="Midlands">Midlands</option>
                            <option value="Scotland">Scotland</option>
                            <option value="Wales">Wales</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Status:</label>
                        <select id="statusFilter" onchange="filterZones()">
                            <option value="all">All Zones</option>
                            <option value="mvp">MVP Ready</option>
                            <option value="near">Near MVP (2 criteria)</option>
                            <option value="developing">Developing (1 criteria)</option>
                            <option value="early">Early (0 criteria)</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="stats-row">
                <div class="stat-item">
                    <div class="stat-value" id="totalZones">101</div>
                    <div class="stat-label">Total Zones</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="mvpZones">45</div>
                    <div class="stat-label">MVP Ready</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="nearMvpZones">12</div>
                    <div class="stat-label">Near MVP</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="gapZones">44</div>
                    <div class="stat-label">Need Work</div>
                </div>
            </div>
            
            <div class="table-scroll">
                <table class="data-table" id="zoneTable">
                    <thead>
                        <tr>
                            <th>Zone</th>
                            <th>Region</th>
                            <th>Partners</th>
                            <th>Cuisines</th>
                            <th>Rating</th>
                            <th>Status</th>
                            <th>Biggest Gap</th>
                        </tr>
                    </thead>
                    <tbody id="zoneTableBody">
                        <!-- Populated by JS -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Section 3: Must-Have Dishes -->
        <div class="section">
            <div class="section-header">
                <div>
                    <div class="section-title">
                        <span class="section-number">3</span>
                        Must-Have Dishes
                    </div>
                    <p class="section-subtitle">Priority dishes by tier based on performance + opportunity</p>
                </div>
            </div>
            
            <div class="tier-section">
                <div class="tier-header">
                    <span class="tier-badge tier-1">TIER 1</span>
                    <span style="font-weight: 600;">Must-Have (Essential for every zone)</span>
                </div>
                <div class="dish-grid" id="tier1Dishes">
                    <!-- Populated by JS -->
                </div>
            </div>
            
            <div class="tier-section">
                <div class="tier-header">
                    <span class="tier-badge tier-2">TIER 2</span>
                    <span style="font-weight: 600;">Should-Have (High value)</span>
                </div>
                <div class="dish-grid" id="tier2Dishes">
                    <!-- Populated by JS -->
                </div>
            </div>
            
            <div class="tier-section">
                <div class="tier-header">
                    <span class="tier-badge tier-3">TIER 3</span>
                    <span style="font-weight: 600;">Nice-to-Have (Good additions)</span>
                </div>
                <div class="dish-grid" id="tier3Dishes">
                    <!-- Populated by JS -->
                </div>
            </div>
        </div>
        
        <!-- Section 4: 2x2 Matrix -->
        <div class="section">
            <div class="section-header">
                <div>
                    <div class="section-title">
                        <span class="section-number">4</span>
                        Dish 2x2 Matrix
                    </div>
                    <p class="section-subtitle">Performance vs Opportunity - filter by availability</p>
                </div>
                <div class="toggle-group">
                    <button class="toggle-btn active" onclick="toggleDinneroo('all')">All Dishes</button>
                    <button class="toggle-btn" onclick="toggleDinneroo('on')">On Dinneroo</button>
                    <button class="toggle-btn" onclick="toggleDinneroo('off')">Not On Dinneroo</button>
                </div>
            </div>
            
            <div class="chart-container">
                <canvas id="matrixChart"></canvas>
            </div>
            
            <div class="quadrant-legend">
                <div class="quadrant-item" style="border-left: 3px solid var(--success);">
                    <div class="quadrant-name" style="color: var(--success);">PRIORITY</div>
                    <div class="quadrant-desc">High Performance + High Opportunity â†’ Expand</div>
                </div>
                <div class="quadrant-item" style="border-left: 3px solid var(--accent-blue);">
                    <div class="quadrant-name" style="color: var(--accent-blue);">PROTECT</div>
                    <div class="quadrant-desc">High Performance + Low Opportunity â†’ Maintain</div>
                </div>
                <div class="quadrant-item" style="border-left: 3px solid var(--warning);">
                    <div class="quadrant-name" style="color: var(--warning);">DEVELOP</div>
                    <div class="quadrant-desc">Low Performance + High Opportunity â†’ Fix issues</div>
                </div>
                <div class="quadrant-item" style="border-left: 3px solid var(--text-muted);">
                    <div class="quadrant-name" style="color: var(--text-muted);">MONITOR</div>
                    <div class="quadrant-desc">Low Performance + Low Opportunity â†’ Deprioritize</div>
                </div>
            </div>
        </div>
        
        <!-- Section 5: Family Eating Behavior -->
        <div class="section">
            <div class="section-header">
                <div>
                    <div class="section-title">
                        <span class="section-number">5</span>
                        Family Eating Behavior
                    </div>
                    <p class="section-subtitle">What families order outside Dinneroo - cuisine gaps and regional patterns</p>
                </div>
            </div>
            
            <div class="grid-2-1">
                <div>
                    <h4 style="margin-bottom: 1rem;">Cuisines Families Order (Not on Dinneroo)</h4>
                    <div class="grid-3" id="cuisineGaps">
                        <!-- Populated by JS -->
                    </div>
                </div>
                <div>
                    <h4 style="margin-bottom: 1rem;">Price Sensitivity</h4>
                    <div class="chart-container" style="height: 250px;">
                        <canvas id="priceChart"></canvas>
                    </div>
                    <div class="evidence-panel" style="margin-top: 1rem;">
                        <div class="evidence-title">ðŸ’° Price Insights</div>
                        <div class="evidence-item">
                            <span>Dinneroo avg order</span>
                            <span style="font-weight: 600;">Â£32.34</span>
                        </div>
                        <div class="evidence-item">
                            <span>Non-Dinneroo avg order</span>
                            <span style="font-weight: 600;">Â£30.58</span>
                        </div>
                        <div class="evidence-item">
                            <span>Sweet spot band</span>
                            <span style="color: var(--success); font-weight: 600;">Â£30-40</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 2rem;">
                <h4 style="margin-bottom: 1rem;">Regional Cuisine Preferences</h4>
                <div class="chart-container" style="height: 300px;">
                    <canvas id="regionalChart"></canvas>
                </div>
            </div>
        </div>
        
        <!-- Section 6: Partner Recommendations -->
        <div class="section">
            <div class="section-header">
                <div>
                    <div class="section-title">
                        <span class="section-number">6</span>
                        Partner Recommendations
                    </div>
                    <p class="section-subtitle">Who to recruit to fill gaps</p>
                </div>
            </div>
            
            <div class="grid-2">
                <div>
                    <h4 style="margin-bottom: 1rem;">Critical Recruitment Priorities</h4>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Partner</th>
                                <th>Gap Filled</th>
                                <th>Fit Score</th>
                                <th>On Deliveroo</th>
                            </tr>
                        </thead>
                        <tbody id="partnerTable">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
                <div>
                    <h4 style="margin-bottom: 1rem;">Expansion Candidates</h4>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Partner</th>
                                <th>Current Zones</th>
                                <th>Orders/Zone</th>
                                <th>Potential</th>
                            </tr>
                        </thead>
                        <tbody id="expansionTable">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Data embedded from analysis files
        const zoneData = [
            {zone: "Clapham", region: "London", partners: 13, cuisines: 9, rating: 4.61, orders: 2349, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Islington", region: "London", partners: 8, cuisines: 8, rating: 4.69, orders: 2262, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Brighton Central", region: "South East", partners: 10, cuisines: 8, rating: 4.47, orders: 1734, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Finsbury Park / Harringay", region: "London", partners: 4, cuisines: 3, rating: 4.53, orders: 1534, isMvp: false, criteriaMet: 1, gap: "Partners, Cuisines"},
            {zone: "Brockley / Forest Hill", region: "London", partners: 3, cuisines: 3, rating: 4.61, orders: 1478, isMvp: false, criteriaMet: 1, gap: "Partners, Cuisines"},
            {zone: "Cambridge", region: "South East", partners: 8, cuisines: 7, rating: 4.48, orders: 1403, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Lewisham", region: "London", partners: 5, cuisines: 5, rating: 4.50, orders: 1358, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Milton Keynes", region: "South East", partners: 8, cuisines: 7, rating: 4.46, orders: 1332, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Reading", region: "South East", partners: 10, cuisines: 6, rating: 4.29, orders: 1318, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Canning Town", region: "London", partners: 3, cuisines: 3, rating: 4.67, orders: 1314, isMvp: false, criteriaMet: 1, gap: "Partners, Cuisines"},
            {zone: "Wimbledon", region: "London", partners: 8, cuisines: 7, rating: 4.50, orders: 1314, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "East Central", region: "London", partners: 11, cuisines: 8, rating: 4.46, orders: 1280, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Chiswick", region: "London", partners: 6, cuisines: 5, rating: 4.74, orders: 1240, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Notting Hill / Paddington", region: "London", partners: 9, cuisines: 7, rating: 4.53, orders: 1226, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Wembley", region: "London", partners: 7, cuisines: 7, rating: 4.49, orders: 1202, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Bristol", region: "South West", partners: 8, cuisines: 6, rating: 4.53, orders: 1173, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Kingston", region: "London", partners: 8, cuisines: 7, rating: 4.46, orders: 1156, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Surrey Quays", region: "London", partners: 4, cuisines: 3, rating: 4.61, orders: 1139, isMvp: false, criteriaMet: 1, gap: "Partners, Cuisines"},
            {zone: "Canary Wharf", region: "London", partners: 6, cuisines: 5, rating: 4.29, orders: 1122, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Norwich", region: "South East", partners: 6, cuisines: 5, rating: 4.25, orders: 1050, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Guildford", region: "South East", partners: 6, cuisines: 6, rating: 4.25, orders: 969, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Hammersmith", region: "London", partners: 7, cuisines: 6, rating: 4.46, orders: 962, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Wapping and Mile End", region: "London", partners: 4, cuisines: 4, rating: 4.66, orders: 961, isMvp: false, criteriaMet: 1, gap: "Partners, Cuisines"},
            {zone: "Ealing", region: "London", partners: 5, cuisines: 5, rating: 4.20, orders: 904, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Wandsworth", region: "London", partners: 3, cuisines: 3, rating: 4.69, orders: 853, isMvp: false, criteriaMet: 1, gap: "Partners, Cuisines"},
            {zone: "London Bridge", region: "London", partners: 10, cuisines: 7, rating: 4.57, orders: 850, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Hampstead", region: "London", partners: 5, cuisines: 4, rating: 4.47, orders: 797, isMvp: false, criteriaMet: 2, gap: "Cuisines"},
            {zone: "West Central", region: "London", partners: 10, cuisines: 7, rating: 4.56, orders: 793, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Dublin City North", region: "Ireland", partners: 6, cuisines: 5, rating: 4.06, orders: 782, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Mayfair", region: "London", partners: 8, cuisines: 6, rating: 4.57, orders: 772, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Nottingham", region: "Midlands", partners: 7, cuisines: 5, rating: 4.43, orders: 759, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "York", region: "North", partners: 8, cuisines: 6, rating: 4.46, orders: 729, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Chelmsford", region: "South East", partners: 7, cuisines: 5, rating: 4.21, orders: 725, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Edinburgh Central", region: "Scotland", partners: 3, cuisines: 3, rating: 4.51, orders: 722, isMvp: false, criteriaMet: 1, gap: "Partners, Cuisines"},
            {zone: "Birmingham", region: "Midlands", partners: 9, cuisines: 7, rating: 4.15, orders: 689, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "South Kensington", region: "London", partners: 7, cuisines: 4, rating: 4.56, orders: 676, isMvp: false, criteriaMet: 2, gap: "Cuisines"},
            {zone: "Stratford", region: "London", partners: 5, cuisines: 4, rating: 4.26, orders: 665, isMvp: false, criteriaMet: 2, gap: "Cuisines"},
            {zone: "Bath", region: "South West", partners: 9, cuisines: 7, rating: 4.53, orders: 647, isMvp: true, criteriaMet: 3, gap: "None"},
            {zone: "Bournemouth", region: "South East", partners: 4, cuisines: 3, rating: 4.26, orders: 634, isMvp: false, criteriaMet: 1, gap: "Partners, Cuisines"},
            {zone: "Fulham", region: "London", partners: 5, cuisines: 5, rating: 4.57, orders: 615, isMvp: true, criteriaMet: 3, gap: "None"},
        ];
        
        const dishData = [
            {dish: "Katsu", cuisine: "Japanese", onDinneroo: true, performance: 4.22, opportunity: 3.82, quadrant: "Priority", tier: 1},
            {dish: "Pho", cuisine: "Vietnamese", onDinneroo: true, performance: 4.39, opportunity: 3.60, quadrant: "Priority", tier: 1},
            {dish: "Curry", cuisine: "Indian", onDinneroo: true, performance: 4.00, opportunity: 3.91, quadrant: "Priority", tier: 1},
            {dish: "Noodles", cuisine: "Asian", onDinneroo: true, performance: 4.06, opportunity: 3.61, quadrant: "Priority", tier: 1},
            {dish: "Chicken Pie", cuisine: "British", onDinneroo: true, performance: 5.00, opportunity: 2.41, quadrant: "Protect", tier: 2},
            {dish: "Pad Thai", cuisine: "Thai", onDinneroo: true, performance: 4.39, opportunity: 2.91, quadrant: "Protect", tier: 2},
            {dish: "Rice Bowl", cuisine: "Asian", onDinneroo: true, performance: 4.17, opportunity: 2.80, quadrant: "Protect", tier: 2},
            {dish: "Fried Rice", cuisine: "Chinese", onDinneroo: true, performance: 4.33, opportunity: 2.61, quadrant: "Protect", tier: 2},
            {dish: "Salad", cuisine: "Healthy", onDinneroo: true, performance: 3.33, opportunity: 3.58, quadrant: "Develop", tier: 3},
            {dish: "Pie", cuisine: "British", onDinneroo: true, performance: null, opportunity: 3.42, quadrant: "Develop", tier: 3},
            {dish: "Sushi", cuisine: "Japanese", onDinneroo: true, performance: 3.78, opportunity: 2.98, quadrant: "Protect", tier: 3},
            {dish: "Lasagne", cuisine: "Italian", onDinneroo: true, performance: 3.00, opportunity: 3.61, quadrant: "Develop", tier: 3},
            {dish: "Pasta", cuisine: "Italian", onDinneroo: true, performance: 3.17, opportunity: 3.22, quadrant: "Develop", tier: 3},
            {dish: "Grilled Chicken", cuisine: "Global", onDinneroo: false, performance: null, opportunity: 3.18, quadrant: "Develop", tier: 2},
            {dish: "Pizza", cuisine: "Italian", onDinneroo: true, performance: 2.33, opportunity: 3.54, quadrant: "Develop", tier: 3},
            {dish: "Tagine", cuisine: "Moroccan", onDinneroo: false, performance: null, opportunity: 2.98, quadrant: "Monitor", tier: 4},
            {dish: "Korean Fried Chicken", cuisine: "Korean", onDinneroo: false, performance: null, opportunity: 2.34, quadrant: "Monitor", tier: 4},
            {dish: "Greek Mezze", cuisine: "Greek", onDinneroo: false, performance: null, opportunity: 2.20, quadrant: "Monitor", tier: 4},
            {dish: "Jerk Chicken", cuisine: "Caribbean", onDinneroo: false, performance: null, opportunity: 2.70, quadrant: "Monitor", tier: 4},
        ];
        
        const cuisineGapData = [
            {cuisine: "British", orders: 18228, status: "Zero on Dinneroo", signal: "High"},
            {cuisine: "Portuguese", orders: 19837, status: "Zero on Dinneroo", signal: "High"},
            {cuisine: "Greek", orders: 5881, status: "Zero on Dinneroo", signal: "Medium"},
            {cuisine: "Korean", orders: 5218, status: "Zero on Dinneroo", signal: "Medium"},
            {cuisine: "Turkish", orders: 7037, status: "Limited", signal: "Medium"},
            {cuisine: "Caribbean", orders: 2841, status: "Zero on Dinneroo", signal: "Medium"},
        ];
        
        const partnerData = [
            {partner: "Nando's", gap: "Grilled Chicken", fitScore: 95, onDeliveroo: "Yes"},
            {partner: "Cocotte", gap: "Grilled Chicken", fitScore: 85, onDeliveroo: "Yes"},
            {partner: "The Athenian", gap: "Greek", fitScore: 85, onDeliveroo: "Yes"},
            {partner: "Pieminister", gap: "British", fitScore: 85, onDeliveroo: "Yes"},
            {partner: "Korean Dinner Party", gap: "Korean", fitScore: 80, onDeliveroo: "Yes"},
            {partner: "Turtle Bay", gap: "Caribbean", fitScore: 80, onDeliveroo: "Yes"},
        ];
        
        const expansionData = [
            {partner: "Dishoom", zones: 6, ordersPerZone: 1448, potential: "High"},
            {partner: "Pho", zones: 45, ordersPerZone: 312, potential: "High"},
            {partner: "Wagamama", zones: 60, ordersPerZone: 235, potential: "Medium"},
            {partner: "Banana Tree", zones: 25, ordersPerZone: 228, potential: "High"},
            {partner: "Giggling Squid", zones: 20, ordersPerZone: 199, potential: "High"},
        ];
        
        const priceData = {
            labels: ['Â£0-15', 'Â£15-20', 'Â£20-25', 'Â£25-30', 'Â£30-40', 'Â£40+'],
            dinneroo: [2.1, 5.3, 12.8, 25.4, 38.2, 16.2],
            nonDinneroo: [15.2, 22.1, 18.4, 16.3, 18.8, 9.2]
        };
        
        const regionalData = {
            labels: ['London', 'South East', 'North', 'Midlands', 'South West', 'Scotland'],
            indian: [12, 10, 8, 14, 9, 7],
            chinese: [8, 7, 12, 11, 6, 10],
            japanese: [15, 12, 6, 8, 11, 7],
            british: [4, 6, 14, 10, 8, 9],
        };
        
        // Initialize dashboard
        function init() {
            renderZoneTable();
            renderDishTiers();
            renderMatrixChart();
            renderCuisineGaps();
            renderPriceChart();
            renderRegionalChart();
            renderPartnerTable();
            renderExpansionTable();
            updateStats();
        }
        
        function renderZoneTable() {
            const tbody = document.getElementById('zoneTableBody');
            tbody.innerHTML = zoneData.map(z => `
                <tr>
                    <td style="font-weight: 500;">${z.zone}</td>
                    <td>${z.region}</td>
                    <td>${z.partners}</td>
                    <td>${z.cuisines}</td>
                    <td>${z.rating.toFixed(2)}</td>
                    <td>
                        <span class="badge ${z.isMvp ? 'badge-success' : z.criteriaMet >= 2 ? 'badge-warning' : 'badge-danger'}">
                            ${z.isMvp ? 'MVP Ready' : z.criteriaMet >= 2 ? 'Near MVP' : 'Developing'}
                        </span>
                    </td>
                    <td style="color: var(--text-secondary);">${z.gap}</td>
                </tr>
            `).join('');
        }
        
        function renderDishTiers() {
            const tier1 = dishData.filter(d => d.tier === 1);
            const tier2 = dishData.filter(d => d.tier === 2);
            const tier3 = dishData.filter(d => d.tier === 3);
            
            document.getElementById('tier1Dishes').innerHTML = tier1.map(d => 
                `<span class="dish-tag">${d.dish} <span style="color: var(--text-muted);">(${d.cuisine})</span></span>`
            ).join('');
            
            document.getElementById('tier2Dishes').innerHTML = tier2.map(d => 
                `<span class="dish-tag">${d.dish} <span style="color: var(--text-muted);">(${d.cuisine})</span></span>`
            ).join('');
            
            document.getElementById('tier3Dishes').innerHTML = tier3.map(d => 
                `<span class="dish-tag">${d.dish} <span style="color: var(--text-muted);">(${d.cuisine})</span></span>`
            ).join('');
        }
        
        let matrixChart;
        let currentFilter = 'all';
        
        function renderMatrixChart() {
            const ctx = document.getElementById('matrixChart').getContext('2d');
            
            const filteredData = dishData.filter(d => {
                if (currentFilter === 'all') return true;
                if (currentFilter === 'on') return d.onDinneroo;
                if (currentFilter === 'off') return !d.onDinneroo;
                return true;
            });
            
            const chartData = filteredData.map(d => ({
                x: d.opportunity,
                y: d.performance || 2.5,
                label: d.dish,
                quadrant: d.quadrant,
                onDinneroo: d.onDinneroo
            }));
            
            const colors = chartData.map(d => {
                if (d.quadrant === 'Priority') return 'rgba(16, 185, 129, 0.8)';
                if (d.quadrant === 'Protect') return 'rgba(59, 130, 246, 0.8)';
                if (d.quadrant === 'Develop') return 'rgba(245, 158, 11, 0.8)';
                return 'rgba(107, 114, 128, 0.8)';
            });
            
            if (matrixChart) {
                matrixChart.destroy();
            }
            
            matrixChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        data: chartData,
                        backgroundColor: colors,
                        borderColor: colors.map(c => c.replace('0.8', '1')),
                        borderWidth: 2,
                        pointRadius: 10,
                        pointHoverRadius: 14,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: (context) => {
                                    const d = context.raw;
                                    return [
                                        d.label,
                                        `Opportunity: ${d.x.toFixed(2)}`,
                                        `Performance: ${d.y.toFixed(2)}`,
                                        `Quadrant: ${d.quadrant}`,
                                        d.onDinneroo ? 'On Dinneroo' : 'NOT on Dinneroo'
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'Opportunity Score', color: '#9ca3af' },
                            min: 1.5,
                            max: 4.5,
                            grid: { color: '#374151' },
                            ticks: { color: '#9ca3af' }
                        },
                        y: {
                            title: { display: true, text: 'Performance Score', color: '#9ca3af' },
                            min: 1.5,
                            max: 5.5,
                            grid: { color: '#374151' },
                            ticks: { color: '#9ca3af' }
                        }
                    }
                }
            });
        }
        
        function toggleDinneroo(filter) {
            currentFilter = filter;
            document.querySelectorAll('.toggle-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            renderMatrixChart();
        }
        
        function renderCuisineGaps() {
            const container = document.getElementById('cuisineGaps');
            container.innerHTML = cuisineGapData.map(c => `
                <div class="gap-card">
                    <div class="gap-cuisine">${c.cuisine}</div>
                    <div class="gap-orders">${c.orders.toLocaleString()}</div>
                    <div class="gap-status">orders on Deliveroo</div>
                    <span class="badge ${c.signal === 'High' ? 'badge-danger' : 'badge-warning'}" style="margin-top: 0.5rem;">
                        ${c.status}
                    </span>
                </div>
            `).join('');
        }
        
        function renderPriceChart() {
            const ctx = document.getElementById('priceChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: priceData.labels,
                    datasets: [
                        {
                            label: 'Dinneroo',
                            data: priceData.dinneroo,
                            backgroundColor: 'rgba(0, 212, 170, 0.7)',
                            borderColor: 'rgba(0, 212, 170, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Non-Dinneroo',
                            data: priceData.nonDinneroo,
                            backgroundColor: 'rgba(139, 92, 246, 0.7)',
                            borderColor: 'rgba(139, 92, 246, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { 
                            position: 'top',
                            labels: { color: '#9ca3af' }
                        }
                    },
                    scales: {
                        x: {
                            grid: { color: '#374151' },
                            ticks: { color: '#9ca3af' }
                        },
                        y: {
                            title: { display: true, text: '% of Orders', color: '#9ca3af' },
                            grid: { color: '#374151' },
                            ticks: { color: '#9ca3af' }
                        }
                    }
                }
            });
        }
        
        function renderRegionalChart() {
            const ctx = document.getElementById('regionalChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: regionalData.labels,
                    datasets: [
                        {
                            label: 'Indian',
                            data: regionalData.indian,
                            backgroundColor: 'rgba(255, 107, 53, 0.7)'
                        },
                        {
                            label: 'Chinese',
                            data: regionalData.chinese,
                            backgroundColor: 'rgba(239, 68, 68, 0.7)'
                        },
                        {
                            label: 'Japanese',
                            data: regionalData.japanese,
                            backgroundColor: 'rgba(59, 130, 246, 0.7)'
                        },
                        {
                            label: 'British',
                            data: regionalData.british,
                            backgroundColor: 'rgba(16, 185, 129, 0.7)'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { 
                            position: 'top',
                            labels: { color: '#9ca3af' }
                        }
                    },
                    scales: {
                        x: {
                            grid: { color: '#374151' },
                            ticks: { color: '#9ca3af' }
                        },
                        y: {
                            title: { display: true, text: '% of Orders', color: '#9ca3af' },
                            grid: { color: '#374151' },
                            ticks: { color: '#9ca3af' }
                        }
                    }
                }
            });
        }
        
        function renderPartnerTable() {
            const tbody = document.getElementById('partnerTable');
            tbody.innerHTML = partnerData.map(p => `
                <tr>
                    <td style="font-weight: 500;">${p.partner}</td>
                    <td>${p.gap}</td>
                    <td><span class="badge badge-success">${p.fitScore}%</span></td>
                    <td>${p.onDeliveroo}</td>
                </tr>
            `).join('');
        }
        
        function renderExpansionTable() {
            const tbody = document.getElementById('expansionTable');
            tbody.innerHTML = expansionData.map(p => `
                <tr>
                    <td style="font-weight: 500;">${p.partner}</td>
                    <td>${p.zones}</td>
                    <td>${p.ordersPerZone}</td>
                    <td><span class="badge ${p.potential === 'High' ? 'badge-success' : 'badge-info'}">${p.potential}</span></td>
                </tr>
            `).join('');
        }
        
        function updateStats() {
            const mvp = zoneData.filter(z => z.isMvp).length;
            const near = zoneData.filter(z => !z.isMvp && z.criteriaMet >= 2).length;
            const gap = zoneData.filter(z => !z.isMvp && z.criteriaMet < 2).length;
            
            document.getElementById('totalZones').textContent = zoneData.length;
            document.getElementById('mvpZones').textContent = mvp;
            document.getElementById('nearMvpZones').textContent = near;
            document.getElementById('gapZones').textContent = gap;
        }
        
        function filterZones() {
            const region = document.getElementById('regionFilter').value;
            const status = document.getElementById('statusFilter').value;
            
            const filtered = zoneData.filter(z => {
                if (region !== 'all' && z.region !== region) return false;
                if (status === 'mvp' && !z.isMvp) return false;
                if (status === 'near' && (z.isMvp || z.criteriaMet < 2)) return false;
                if (status === 'developing' && (z.isMvp || z.criteriaMet !== 1)) return false;
                if (status === 'early' && z.criteriaMet !== 0) return false;
                return true;
            });
            
            const tbody = document.getElementById('zoneTableBody');
            tbody.innerHTML = filtered.map(z => `
                <tr>
                    <td style="font-weight: 500;">${z.zone}</td>
                    <td>${z.region}</td>
                    <td>${z.partners}</td>
                    <td>${z.cuisines}</td>
                    <td>${z.rating.toFixed(2)}</td>
                    <td>
                        <span class="badge ${z.isMvp ? 'badge-success' : z.criteriaMet >= 2 ? 'badge-warning' : 'badge-danger'}">
                            ${z.isMvp ? 'MVP Ready' : z.criteriaMet >= 2 ? 'Near MVP' : 'Developing'}
                        </span>
                    </td>
                    <td style="color: var(--text-secondary);">${z.gap}</td>
                </tr>
            `).join('');
        }
        
        // Initialize on load
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>


